整体逻辑分为两部分
1.排行榜的计算
2.排行榜的查询

1.排行榜计算
排行榜的计算本质是排序问题,按照分数和触发时间排序,可以将这两个字段拼接成一个long,高32位是分数,低32为触发时间戳,
按这个拼接后的long值进行入库,数据库表应当包括{id(主键),playerGuid(玩家Id),score(拼接分数),sequence(排名)},为score列建立索引,为sequence列建立索引,为playerGuid列建立索引
入库后,按score倒排流式读取表中的每一行,设置sequence(排名)
2.排行榜的查询
由于已经为playerGuid建立索引,所以可以快速读取玩家的排名,以及玩家自己排名前后的10个玩家,

如果需要多字段排序,则可以在排行榜计算完成之后,流式读取每一行时,遇到相同score数据时,保存到内存中,由于score相同且触发时间相同的玩家肯定是很少数的,所以直接在内存排序,排序后再设置sequence(排名)
